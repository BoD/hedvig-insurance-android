## core-design-system

Serves as the module which contains everything regarding the design system of the app. This includes

* Components which conform to our design system. Stateless and fully reusable across the entire app.
* Our implementation of MaterialTheme, HedvigTheme
* Our implementation of material3.MaterialTheme, also provided inside HedvigTheme

Also stores the information about the m3 color scheme used. Due to the fact that our design does
not really map to what the m3 color scheme requires, this mapping had to be done manually.
THis M2 -> M3 color translation is done inside
[HedvigMaterial3Theme.kt](src/main/kotlin/com/hedvig/android/core/designsystem/material3/HedvigMaterial3Theme.kt)
where the logic is mapped in the table below.
For the color roles defined in the
m3 [docs](https://m3.material.io/styles/color/the-color-system/color-roles)
The module `:sample:design-showcase` provides a sample of how a bunch of m3 components render with
this mapping. This can be run using the `Design Showcase` build configuration.

![M2 color system (left) vs. M3 color system (right)](../misc/images/m2_and_m3_color_schemes.png "M2 color system (left) vs. M3 color system (right)")

| m3                   | m2                               | notes                                                                                                                                                                                                                                                                                                                                                 |
|----------------------|----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| primary              | colorPrimary                     |                                                                                                                                                                                                                                                                                                                                                       |
| onPrimary            | colorOnPrimary                   |                                                                                                                                                                                                                                                                                                                                                       |
| secondary            | colorPrimaryVariant              |                                                                                                                                                                                                                                                                                                                                                       |
| onSecondary          | colorOnPrimary                   |                                                                                                                                                                                                                                                                                                                                                       |
| tertiary             | colorSecondary                   |                                                                                                                                                                                                                                                                                                                                                       |
| onTertiary           | colorOnSecondary                 |                                                                                                                                                                                                                                                                                                                                                       |
| primaryContainer     | colorSurface                     | all m3 containers just use surface instead                                                                                                                                                                                                                                                                                                            |
| onPrimaryContainer   | colorOnSurface                   |                                                                                                                                                                                                                                                                                                                                                       |
| secondaryContainer   | colorSurface                     |                                                                                                                                                                                                                                                                                                                                                       |
| onSecondaryContainer | colorOnSurface                   |                                                                                                                                                                                                                                                                                                                                                       |
| tertiaryContainer    | colorSurface                     |                                                                                                                                                                                                                                                                                                                                                       |
| onTertiaryContainer  | colorOnSurface                   |                                                                                                                                                                                                                                                                                                                                                       |
| background           | colorBackground                  |                                                                                                                                                                                                                                                                                                                                                       |
| onBackground         | colorOnBackground                |                                                                                                                                                                                                                                                                                                                                                       |
| surface              | colorSurface                     |                                                                                                                                                                                                                                                                                                                                                       |
| onSurface            | colorOnSurface                   |                                                                                                                                                                                                                                                                                                                                                       |
| surfaceVariant       | light: neutral90 dark: neutral30 | need some difference here since some components put this on TOP of surface colors. We use a slightly altered version of the surface in this case.                                                                                                                                                                                                     |
| onSurfaceVariant     | light: neutral30 dark: neutral80 | This acts as a replacement of medium alpha onSurface, since m3 does not like changing alpha values. From migration path https://developer.android.com/jetpack/compose/designsystems/material2-material3#emphasis-and                                                                                                                                  |
| surfaceTint          | colorSurface                     | implementation of this is [here](https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:tv/tv-material/src/main/java/androidx/tv/material3/ColorScheme.kt;l=507-514?q=surfaceColorAtElevation), basically applies on top of surface when elevated. In our case we apply surface so that tonal elevation does not have any effect |
| inverseSurface       | colorOnSurface                   | simply the inverse of surface/onSurface                                                                                                                                                                                                                                                                                                               |
| inverseOnSurface     | colorSurface                     |                                                                                                                                                                                                                                                                                                                                                       |
| error                | colorError                       |                                                                                                                                                                                                                                                                                                                                                       |
| onError              | colorOnError                     |                                                                                                                                                                                                                                                                                                                                                       |
| errorContainer       | colorSurface                     |                                                                                                                                                                                                                                                                                                                                                       |
| onErrorContainer     | colorOnSurface                   |                                                                                                                                                                                                                                                                                                                                                       |
|                      |                                  |                                                                                                                                                                                                                                                                                                                                                       |
| outline              | -                                | no mapping for these, let's use the default ones for now                                                                                                                                                                                                                                                                                              |
| outlineVariant       | -                                |                                                                                                                                                                                                                                                                                                                                                       |
| scrim                | -                                |                                                                                                                                                                                                                                                                                                                                                       |
